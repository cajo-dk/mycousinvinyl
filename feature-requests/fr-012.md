# Feature Request

- REQUEST ID: FR-012
- DATE: 2026.01.09

## Abstract

Add two “Top 10 (All Users)” cards to the bottom of the Home (statistics) page that rank artists and albums by collection item count across all users, with in-row view actions.

## Scope

- Backend: aggregate top-10 artist and album counts across all collection items.
- API: expose top-10 endpoints or extend statistics payload.
- Frontend: Home page UI cards matching “Latest Addition” / “The One Before” sizing; view actions navigate to Artists/Albums pages.
- Access: available to all authenticated users (Viewer+).

## Requirements

### Data

- Top 10 Artists (All Users): count collection items grouped by artist (sum across all albums by the artist).
- Top 10 Albums (All Users): count collection items grouped by album.
- Exclude items where count <= 1.
- If fewer than 10 entities exceed count > 1, return only those.

### API

- Provide a backend endpoint (or extend `/collection/statistics`) that returns:
  - `top_artists`: array of up to 10 items with `{ artist_id, artist_name, collected_count }`
  - `top_albums`: array of up to 10 items with `{ album_id, album_title, artist_id, artist_name, collected_count }`
- Sorting: descending by `collected_count`, with stable tie-breakers (name/id).

### Home Page UI

- Add two cards at bottom of stats grid with same dimensions and placement style as:
  - “Latest Addition”
  - “The One Before”
- Card titles:
  - `TOP 10 ARTISTS (ALL USERS)`
  - `TOP 10 ALBUMS (ALL USERS)`

#### Artists card columns

- `#` (1-10)
- `Artist` (name)
- `Collected` (count)
- `View` icon button (scaled to row height)

#### Albums card columns

- `#` (1-10)
- `Album` (title)
- `Artist` (name)
- `Collected` (count)
- `View` icon button (scaled to row height)

### View behavior

- Artist view button navigates to `/artists` and opens the artist’s view modal.
- Album view button navigates to `/albums` and opens the album details modal.
- If direct modal opening is not feasible, navigate and apply search/filter to surface the item and allow manual open (fallback).

### Empty states

- If no entries meet count > 1, show a short empty state message in the card (e.g., “Not enough shared collection data yet.”).

## Acceptance Criteria

- Two new cards appear at the bottom of the Home stats grid with matching size to the latest-addition cards.
- Top 10 Artist list and Top 10 Album list are filtered to `collected_count > 1`.
- Lists include up to 10 items, ordered by collected count descending.
- View buttons navigate to artists/albums and open the respective details modal for the item (or fallback to filtered list).
- Data is visible to all authenticated users.
